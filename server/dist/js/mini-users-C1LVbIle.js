var te=(e,t,a)=>new Promise((r,o)=>{var u=f=>{try{l(a.next(f))}catch(c){o(c)}},m=f=>{try{l(a.throw(f))}catch(c){o(c)}},l=f=>f.done?r(f.value):Promise.resolve(f.value).then(u,m);l((a=a.apply(e,t)).next())});import{a6 as Be,a7 as Oe,M,a8 as Ee,P as U,ah as q,bp as He,aw as je,Z as Qe,a0 as k,ca as fe,ac as Se,a3 as De,G as Ge,cd as Ze,cg as qe,as as et,ab as tt,ce as at,bZ as nt,a1 as we,av as ae,an as _e,N as lt,ao as ve,al as it,aA as rt,aB as ot,aC as pe,aD as st,aE as dt,aF as ne,n as Te,B as Ae,aI as ut,aH as ct,aJ as Me,o as le,aQ as gt}from"./bootstrap-BZ7AE4dT.js";import{R as Ne,aN as Re,a3 as V,an as Z,J as j,Y as ye,ao as We,n as me,x as i,az as vt,P as N,_ as Le,T as Pe,a4 as ie,a5 as R,ah as v,aa as p,at as L,aK as z,ae as re,aB as X,au as _,F as pt,bl as mt}from"../jse/index-index-C31g8PXS.js";import{c as ft,d as yt,e as $t}from"./operation-DbhJYR_B.js";import{C as ke}from"./index-CpAE327s.js";import{u as Fe,P as ht,T as St}from"./index-Cv6jE2nv.js";import{P as xt}from"./index-CN8egozC.js";import{D as bt,a as H}from"./index-CiktrRvK.js";import"./Dropdown-BpOuxWnX.js";const Ct=e=>{const{antCls:t,componentCls:a,iconCls:r,avatarBg:o,avatarColor:u,containerSize:m,containerSizeLG:l,containerSizeSM:f,textFontSize:c,textFontSizeLG:$,textFontSizeSM:h,borderRadius:y,borderRadiusLG:S,borderRadiusSM:b,lineWidth:C,lineType:x}=e,I=(g,n,s)=>({width:g,height:g,lineHeight:`${g-C*2}px`,borderRadius:"50%",[`&${a}-square`]:{borderRadius:s},[`${a}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${a}-icon`]:{fontSize:n,[`> ${r}`]:{margin:0}}});return{[a]:M(M(M(M({},Ee(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:u,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:`${C}px ${x} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),I(m,c,y)),{"&-lg":M({},I(l,$,S)),"&-sm":M({},I(f,h,b)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},zt=e=>{const{componentCls:t,groupBorderColor:a,groupOverlapping:r,groupSpace:o}=e;return{[`${t}-group`]:{display:"inline-flex",[`${t}`]:{borderColor:a},"> *:not(:first-child)":{marginInlineStart:r}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:o}}}},Xe=Be("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:a}=e,r=Oe(e,{avatarBg:a,avatarColor:t});return[Ct(r),zt(r)]},e=>{const{controlHeight:t,controlHeightLG:a,controlHeightSM:r,fontSize:o,fontSizeLG:u,fontSizeXL:m,fontSizeHeading3:l,marginXS:f,marginXXS:c,colorBorderBg:$}=e;return{containerSize:t,containerSizeLG:a,containerSizeSM:r,textFontSize:Math.round((u+m)/2),textFontSizeLG:l,textFontSizeSM:o,groupSpace:c,groupOverlapping:-f,groupBorderColor:$}}),Ke=Symbol("AvatarContextKey"),It=()=>Ne(Ke,{}),wt=e=>Re(Ke,e),_t=()=>({prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:()=>"default"},src:String,srcset:String,icon:U.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}),K=V({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:_t(),slots:Object,setup(e,t){let{slots:a,attrs:r}=t;const o=Z(!0),u=Z(!1),m=Z(1),l=Z(null),f=Z(null),{prefixCls:c}=q("avatar",e),[$,h]=Xe(c),y=It(),S=j(()=>e.size==="default"?y.size:e.size),b=Fe(),C=He(()=>{if(typeof e.size!="object")return;const n=fe.find(w=>b.value[w]);return e.size[n]}),x=n=>C.value?{width:`${C.value}px`,height:`${C.value}px`,lineHeight:`${C.value}px`,fontSize:`${n?C.value/2:18}px`}:{},I=()=>{if(!l.value||!f.value)return;const n=l.value.offsetWidth,s=f.value.offsetWidth;if(n!==0&&s!==0){const{gap:w=4}=e;w*2<s&&(m.value=s-w*2<n?(s-w*2)/n:1)}},g=()=>{const{loadError:n}=e;(n==null?void 0:n())!==!1&&(o.value=!1)};return ye(()=>e.src,()=>{me(()=>{o.value=!0,m.value=1})}),ye(()=>e.gap,()=>{me(()=>{I()})}),We(()=>{me(()=>{I(),u.value=!0})}),()=>{var n,s;const{shape:w,src:E,alt:B,srcset:W,draggable:oe,crossOrigin:Y}=e,se=(n=y.shape)!==null&&n!==void 0?n:w,F=je(a,e,"icon"),d=c.value,T={[`${r.class}`]:!!r.class,[d]:!0,[`${d}-lg`]:S.value==="large",[`${d}-sm`]:S.value==="small",[`${d}-${se}`]:!0,[`${d}-image`]:E&&o.value,[`${d}-icon`]:F,[h.value]:!0},P=typeof S.value=="number"?{width:`${S.value}px`,height:`${S.value}px`,lineHeight:`${S.value}px`,fontSize:F?`${S.value/2}px`:"18px"}:{},D=(s=a.default)===null||s===void 0?void 0:s.call(a);let A;if(E&&o.value)A=i("img",{draggable:oe,src:E,srcset:W,onError:g,alt:B,crossorigin:Y},null);else if(F)A=F;else if(u.value||m.value!==1){const O=`scale(${m.value}) translateX(-50%)`,J={msTransform:O,WebkitTransform:O,transform:O},Q=typeof S.value=="number"?{lineHeight:`${S.value}px`}:{};A=i(Qe,{onResize:I},{default:()=>[i("span",{class:`${d}-string`,ref:l,style:M(M({},Q),J)},[D])]})}else A=i("span",{class:`${d}-string`,ref:l,style:{opacity:0}},[D]);return $(i("span",k(k({},r),{},{ref:f,class:T,style:[P,x(!!F),r.style]}),[A]))}}}),Tt=()=>({prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"},shape:{type:String,default:"circle"}}),$e=V({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:Tt(),setup(e,t){let{slots:a,attrs:r}=t;const{prefixCls:o,direction:u}=q("avatar",e),m=j(()=>`${o.value}-group`),[l,f]=Xe(o);return vt(()=>{const c={size:e.size,shape:e.shape};wt(c)}),()=>{const{maxPopoverPlacement:c="top",maxCount:$,maxStyle:h,maxPopoverTrigger:y="hover",shape:S}=e,b={[m.value]:!0,[`${m.value}-rtl`]:u.value==="rtl",[`${r.class}`]:!!r.class,[f.value]:!0},C=je(a,e),x=Se(C).map((g,n)=>De(g,{key:`avatar-key-${n}`})),I=x.length;if($&&$<I){const g=x.slice(0,$),n=x.slice($,I);return g.push(i(xt,{key:"avatar-popover-key",content:n,trigger:y,placement:c,overlayClassName:`${m.value}-popover`},{default:()=>[i(K,{style:h,shape:S},{default:()=>[`+${I-$}`]})]})),l(i("div",k(k({},r),{},{class:b,style:r.style}),[g]))}return l(i("div",k(k({},r),{},{class:b,style:r.style}),[x]))}}});K.Group=$e;K.install=function(e){return e.component(K.name,K),e.component($e.name,$e),e};const At=()=>({avatar:U.any,description:U.any,prefixCls:String,title:U.any}),Mt=V({compatConfig:{MODE:3},name:"AListItemMeta",props:At(),displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:Object,setup(e,t){let{slots:a}=t;const{prefixCls:r}=q("list",e);return()=>{var o,u,m,l,f,c;const $=`${r.value}-item-meta`,h=(o=e.title)!==null&&o!==void 0?o:(u=a.title)===null||u===void 0?void 0:u.call(a),y=(m=e.description)!==null&&m!==void 0?m:(l=a.description)===null||l===void 0?void 0:l.call(a),S=(f=e.avatar)!==null&&f!==void 0?f:(c=a.avatar)===null||c===void 0?void 0:c.call(a),b=i("div",{class:`${r.value}-item-meta-content`},[h&&i("h4",{class:`${r.value}-item-meta-title`},[h]),y&&i("div",{class:`${r.value}-item-meta-description`},[y])]);return i("div",{class:$},[S&&i("div",{class:`${r.value}-item-meta-avatar`},[S]),(h||y)&&b])}}}),Ue=Symbol("ListContextKey");var Lt=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(a[r[o]]=e[r[o]]);return a};const Pt=()=>({prefixCls:String,extra:U.any,actions:U.array,grid:Object,colStyle:{type:Object,default:void 0}}),he=V({compatConfig:{MODE:3},name:"AListItem",inheritAttrs:!1,Meta:Mt,props:Pt(),slots:Object,setup(e,t){let{slots:a,attrs:r}=t;const{itemLayout:o,grid:u}=Ne(Ue,{grid:N(),itemLayout:N()}),{prefixCls:m}=q("list",e),l=()=>{var c;const $=((c=a.default)===null||c===void 0?void 0:c.call(a))||[];let h;return $.forEach(y=>{qe(y)&&!et(y)&&(h=!0)}),h&&$.length>1},f=()=>{var c,$;const h=(c=e.extra)!==null&&c!==void 0?c:($=a.extra)===null||$===void 0?void 0:$.call(a);return o.value==="vertical"?!!h:!l()};return()=>{var c,$,h,y,S;const{class:b}=r,C=Lt(r,["class"]),x=m.value,I=(c=e.extra)!==null&&c!==void 0?c:($=a.extra)===null||$===void 0?void 0:$.call(a),g=(h=a.default)===null||h===void 0?void 0:h.call(a);let n=(y=e.actions)!==null&&y!==void 0?y:Se((S=a.actions)===null||S===void 0?void 0:S.call(a));n=n&&!Array.isArray(n)?[n]:n;const s=n&&n.length>0&&i("ul",{class:`${x}-item-action`,key:"actions"},[n.map((B,W)=>i("li",{key:`${x}-item-action-${W}`},[B,W!==n.length-1&&i("em",{class:`${x}-item-action-split`},null)]))]),w=u.value?"div":"li",E=i(w,k(k({},C),{},{class:Ge(`${x}-item`,{[`${x}-item-no-flex`]:!f()},b)}),{default:()=>[o.value==="vertical"&&I?[i("div",{class:`${x}-item-main`,key:"content"},[g,s]),i("div",{class:`${x}-item-extra`,key:"extra"},[I])]:[g,s,De(I,{key:"extra"})]]});return u.value?i(Ze,{flex:1,style:e.colStyle},{default:()=>[E]}):E}}}),kt=e=>{const{listBorderedCls:t,componentCls:a,paddingLG:r,margin:o,padding:u,listItemPaddingSM:m,marginLG:l,borderRadiusLG:f}=e;return{[`${t}`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:f,[`${a}-header,${a}-footer,${a}-item`]:{paddingInline:r},[`${a}-pagination`]:{margin:`${o}px ${l}px`}},[`${t}${a}-sm`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:m}},[`${t}${a}-lg`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:`${u}px ${r}px`}}}},Bt=e=>{const{componentCls:t,screenSM:a,screenMD:r,marginLG:o,marginSM:u,margin:m}=e;return{[`@media screen and (max-width:${r})`]:{[`${t}`]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:o}}}},[`@media screen and (max-width: ${a})`]:{[`${t}`]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:u}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${m}px`}}}}}},Ot=e=>{const{componentCls:t,antCls:a,controlHeight:r,minHeight:o,paddingSM:u,marginLG:m,padding:l,listItemPadding:f,colorPrimary:c,listItemPaddingSM:$,listItemPaddingLG:h,paddingXS:y,margin:S,colorText:b,colorTextDescription:C,motionDurationSlow:x,lineWidth:I}=e;return{[`${t}`]:M(M({},Ee(e)),{position:"relative","*":{outline:"none"},[`${t}-header, ${t}-footer`]:{background:"transparent",paddingBlock:u},[`${t}-pagination`]:{marginBlockStart:m,textAlign:"end",[`${a}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:o,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:f,color:b,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:l},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:b},[`${t}-item-meta-title`]:{marginBottom:e.marginXXS,color:b,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:b,transition:`all ${x}`,"&:hover":{color:c}}},[`${t}-item-meta-description`]:{color:C,fontSize:e.fontSize,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${y}px`,color:C,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:I,height:Math.ceil(e.fontSize*e.lineHeight)-e.marginXXS*2,transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${l}px 0`,color:C,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:l,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${a}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:S,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:m},[`${t}-item-meta`]:{marginBlockEnd:l,[`${t}-item-meta-title`]:{marginBlockEnd:u,color:b,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:l,marginInlineStart:"auto","> li":{padding:`0 ${l}px`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:r},[`${t}-split${t}-something-after-last-item ${a}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:h},[`${t}-sm ${t}-item`]:{padding:$},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},Et=Be("List",e=>{const t=Oe(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG,listItemPadding:`${e.paddingContentVertical}px ${e.paddingContentHorizontalLG}px`,listItemPaddingSM:`${e.paddingContentVerticalSM}px ${e.paddingContentHorizontal}px`,listItemPaddingLG:`${e.paddingContentVerticalLG}px ${e.paddingContentHorizontalLG}px`});return[Ot(t),kt(t),Bt(t)]},{contentWidth:220}),Ht=()=>({bordered:_e(),dataSource:it(),extra:ae(),grid:we(),itemLayout:String,loading:ve([Boolean,Object]),loadMore:ae(),pagination:ve([Boolean,Object]),prefixCls:String,rowKey:ve([String,Number,Function]),renderItem:lt(),size:String,split:_e(),header:ae(),footer:ae(),locale:we()}),G=V({compatConfig:{MODE:3},name:"AList",inheritAttrs:!1,Item:he,props:tt(Ht(),{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:Object,setup(e,t){let{slots:a,attrs:r}=t;var o,u;Re(Ue,{grid:Le(e,"grid"),itemLayout:Le(e,"itemLayout")});const m={current:1,total:0},{prefixCls:l,direction:f,renderEmpty:c}=q("list",e),[$,h]=Et(l),y=j(()=>e.pagination&&typeof e.pagination=="object"?e.pagination:{}),S=N((o=y.value.defaultCurrent)!==null&&o!==void 0?o:1),b=N((u=y.value.defaultPageSize)!==null&&u!==void 0?u:10);ye(y,()=>{"current"in y.value&&(S.value=y.value.current),"pageSize"in y.value&&(b.value=y.value.pageSize)});const C=[],x=d=>(T,P)=>{S.value=T,b.value=P,y.value[d]&&y.value[d](T,P)},I=x("onChange"),g=x("onShowSizeChange"),n=j(()=>typeof e.loading=="boolean"?{spinning:e.loading}:e.loading),s=j(()=>n.value&&n.value.spinning),w=j(()=>{let d="";switch(e.size){case"large":d="lg";break;case"small":d="sm";break}return d}),E=j(()=>({[`${l.value}`]:!0,[`${l.value}-vertical`]:e.itemLayout==="vertical",[`${l.value}-${w.value}`]:w.value,[`${l.value}-split`]:e.split,[`${l.value}-bordered`]:e.bordered,[`${l.value}-loading`]:s.value,[`${l.value}-grid`]:!!e.grid,[`${l.value}-rtl`]:f.value==="rtl"})),B=j(()=>{const d=M(M(M({},m),{total:e.dataSource.length,current:S.value,pageSize:b.value}),e.pagination||{}),T=Math.ceil(d.total/d.pageSize);return d.current>T&&(d.current=T),d}),W=j(()=>{let d=[...e.dataSource];return e.pagination&&e.dataSource.length>(B.value.current-1)*B.value.pageSize&&(d=[...e.dataSource].splice((B.value.current-1)*B.value.pageSize,B.value.pageSize)),d}),oe=Fe(),Y=He(()=>{for(let d=0;d<fe.length;d+=1){const T=fe[d];if(oe.value[T])return T}}),se=j(()=>{if(!e.grid)return;const d=Y.value&&e.grid[Y.value]?e.grid[Y.value]:e.grid.column;if(d)return{width:`${100/d}%`,maxWidth:`${100/d}%`}}),F=(d,T)=>{var P;const D=(P=e.renderItem)!==null&&P!==void 0?P:a.renderItem;if(!D)return null;let A;const O=typeof e.rowKey;return O==="function"?A=e.rowKey(d):O==="string"||O==="number"?A=d[e.rowKey]:A=d.key,A||(A=`list-item-${T}`),C[T]=A,D({item:d,index:T})};return()=>{var d,T,P,D,A,O,J,Q;const xe=(d=e.loadMore)!==null&&d!==void 0?d:(T=a.loadMore)===null||T===void 0?void 0:T.call(a),de=(P=e.footer)!==null&&P!==void 0?P:(D=a.footer)===null||D===void 0?void 0:D.call(a),be=(A=e.header)!==null&&A!==void 0?A:(O=a.header)===null||O===void 0?void 0:O.call(a),Ce=Se((J=a.default)===null||J===void 0?void 0:J.call(a)),Ve=!!(xe||e.pagination||de),Ye=Ge(M(M({},E.value),{[`${l.value}-something-after-last-item`]:Ve}),r.class,h.value),ze=e.pagination?i("div",{class:`${l.value}-pagination`},[i(ht,k(k({},B.value),{},{onChange:I,onShowSizeChange:g}),null)]):null;let ue=s.value&&i("div",{style:{minHeight:"53px"}},null);if(W.value.length>0){C.length=0;const Ie=W.value.map((ce,ge)=>F(ce,ge)),Je=Ie.map((ce,ge)=>i("div",{key:C[ge],style:se.value},[ce]));ue=e.grid?i(at,{gutter:e.grid.gutter},{default:()=>[Je]}):i("ul",{class:`${l.value}-items`},[Ie])}else!Ce.length&&!s.value&&(ue=i("div",{class:`${l.value}-empty-text`},[((Q=e.locale)===null||Q===void 0?void 0:Q.emptyText)||c("List")]));const ee=B.value.position||"bottom";return $(i("div",k(k({},r),{},{class:Ye}),[(ee==="top"||ee==="both")&&ze,be&&i("div",{class:`${l.value}-header`},[be]),i(nt,n.value,{default:()=>[ue,Ce]}),de&&i("div",{class:`${l.value}-footer`},[de]),xe||(ee==="bottom"||ee==="both")&&ze]))}}});G.install=function(e){return e.component(G.name,G),e.component(G.Item.name,G.Item),e.component(G.Item.Meta.name,G.Item.Meta),e};const jt={key:1},Dt=["onClick"],Gt=["onClick"],Nt={key:0},Rt=V({__name:"mini-users",setup(e){const t=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"头像",dataIndex:"avatar",key:"avatar",width:80},{title:"昵称",dataIndex:"nickname",key:"nickname",width:150},{title:"手机号",dataIndex:"phone",key:"phone",width:120},{title:"性别",dataIndex:"gender",key:"gender",width:80},{title:"年龄",dataIndex:"age",key:"age",width:80},{title:"用户类型",dataIndex:"userType",key:"userType",width:100,customRender:({text:g})=>g==="supplier"?"供应商":"消费者"},{title:"注册时间",dataIndex:"createdAt",key:"createdAt",width:150},{title:"操作",key:"action",width:200}],a=N(!1),r=N([]),o=Pe({keyword:"",gender:null}),u=Pe({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0}),m=N(!1),l=N(null),f=N(!1),c=g=>g?mt(g).format("YYYY-MM-DD HH:mm:ss"):"-",$=g=>({pending:"待付款",paid:"已付款",shipped:"已发货",completed:"已完成",cancelled:"已取消"})[g]||g,h=()=>te(this,null,function*(){a.value=!0;try{const g={pageNum:u.current,pageSize:u.pageSize,keyword:o.keyword||void 0,gender:o.gender||void 0},n=yield ft(g);r.value=n.list||[],u.total=n.total||0,u.current=n.pageNum||1,u.pageSize=n.pageSize||10}catch(g){console.error("获取用户列表失败:",g),le.error("获取用户列表失败")}finally{a.value=!1}}),y=g=>{u.current=g.current||1,u.pageSize=g.pageSize||10,h()},S=()=>{u.current=1,h()},b=()=>{o.keyword="",o.gender=null,u.current=1,h()},C=g=>te(this,null,function*(){try{a.value=!0;const n=yield yt(g.id);l.value=n,m.value=!0}catch(n){console.error("获取用户详情失败:",n),le.error("获取用户详情失败")}finally{a.value=!1}}),x=()=>{m.value=!1,l.value=null},I=g=>{const n=g.userType==="supplier"?"供应商":"消费者",s=g.userType==="supplier"?"消费者":"供应商";Me.confirm({title:"变更用户身份",content:`确定将用户 "${g.nickname}" 的身份从${n}变更为${s}吗？`,okText:"确定",cancelText:"取消",onOk:()=>te(this,null,function*(){try{f.value=!0,yield $t(g.id),le.success("变更用户身份成功"),h()}catch(w){console.error("变更用户身份失败:",w),le.error("变更用户身份失败")}finally{f.value=!1}})})};return We(()=>{h()}),(g,n)=>(R(),ie("div",null,[i(p(ke),{bordered:!1,class:"mb-20"},{default:v(()=>[i(p(rt),{model:o,layout:"inline",class:"search-form",onSubmit:ot(S,["prevent"])},{default:v(()=>[i(p(pe),{label:"用户信息"},{default:v(()=>[i(p(st),{value:o.keyword,"onUpdate:value":n[0]||(n[0]=s=>o.keyword=s),placeholder:"请输入昵称或手机号","allow-clear":""},null,8,["value"])]),_:1}),i(p(pe),{label:"性别"},{default:v(()=>[i(p(dt),{value:o.gender,"onUpdate:value":n[1]||(n[1]=s=>o.gender=s),placeholder:"请选择性别",style:{width:"120px"},"allow-clear":""},{default:v(()=>[i(p(ne),{value:null},{default:v(()=>n[3]||(n[3]=[L("全部")])),_:1}),i(p(ne),{value:"男"},{default:v(()=>n[4]||(n[4]=[L("男")])),_:1}),i(p(ne),{value:"女"},{default:v(()=>n[5]||(n[5]=[L("女")])),_:1}),i(p(ne),{value:"其他"},{default:v(()=>n[6]||(n[6]=[L("其他")])),_:1})]),_:1},8,["value"])]),_:1}),i(p(pe),null,{default:v(()=>[i(p(Te),null,{default:v(()=>[i(p(Ae),{type:"primary","html-type":"submit"},{default:v(()=>n[7]||(n[7]=[L("查询")])),_:1}),i(p(Ae),{onClick:b},{default:v(()=>n[8]||(n[8]=[L("重置")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),i(p(ke),{bordered:!1},{default:v(()=>[n[9]||(n[9]=z("div",{class:"table-header"},[z("div",{class:"table-title"},"小程序用户列表")],-1)),i(p(St),{columns:t,"data-source":r.value,loading:a.value,pagination:u,onChange:y,"row-key":"id"},{bodyCell:v(({column:s,record:w})=>[s.key==="avatar"?(R(),re(p(K),{key:0,src:w.avatar||"/images/default-avatar.png"},null,8,["src"])):X("",!0),s.key==="gender"?(R(),ie("span",jt,_(w.gender||"-"),1)):X("",!0),s.key==="createdAt"?(R(),ie(pt,{key:2},[L(_(c(w.createdAt)),1)],64)):X("",!0),s.key==="action"?(R(),re(p(Te),{key:3},{default:v(()=>[z("a",{onClick:E=>C(w)},"查看",8,Dt),i(p(ut),{type:"vertical"}),z("a",{onClick:E=>I(w)},"变更身份",8,Gt)]),_:2},1024)):X("",!0)]),_:1},8,["data-source","loading","pagination"])]),_:1}),i(p(Me),{visible:m.value,"onUpdate:visible":n[2]||(n[2]=s=>m.value=s),title:"用户详情",width:"700px",footer:null,onCancel:x},{default:v(()=>[l.value?(R(),ie("div",Nt,[i(p(bt),{column:2,bordered:""},{default:v(()=>[i(p(H),{label:"头像",span:2},{default:v(()=>[i(p(K),{src:l.value.avatar||"/images/default-avatar.png",size:64},null,8,["src"])]),_:1}),i(p(H),{label:"昵称"},{default:v(()=>[L(_(l.value.nickname),1)]),_:1}),i(p(H),{label:"性别"},{default:v(()=>[L(_(l.value.gender||"-"),1)]),_:1}),i(p(H),{label:"手机号"},{default:v(()=>[L(_(l.value.phone||"-"),1)]),_:1}),i(p(H),{label:"年龄"},{default:v(()=>[L(_(l.value.age||"-"),1)]),_:1}),i(p(H),{label:"用户类型"},{default:v(()=>[L(_(l.value.userType==="supplier"?"供应商":"消费者"),1)]),_:1}),i(p(H),{label:"注册时间"},{default:v(()=>[L(_(c(l.value.createdAt)),1)]),_:1}),l.value.userType==="supplier"&&l.value.supplierInfo?(R(),re(p(H),{key:0,label:"供应商信息",span:2},{default:v(()=>[z("div",null,[z("p",null,"公司名称: "+_(l.value.supplierInfo.companyName||"-"),1),z("p",null,"联系人: "+_(l.value.supplierInfo.contactPerson||"-"),1),z("p",null," 联系电话: "+_(l.value.supplierInfo.contactPhone||"-"),1),z("p",null,"公司地址: "+_(l.value.supplierInfo.address||"-"),1),z("p",null," 营业执照: "+_(l.value.supplierInfo.businessLicense||"-"),1)])]),_:1})):X("",!0),i(p(H),{label:"收货地址",span:2},{default:v(()=>[i(p(G),{size:"small","data-source":l.value.Addresses||[],pagination:!1},{renderItem:v(({item:s})=>[i(p(he),null,{default:v(()=>[z("div",null,[z("div",null,_(s.name)+" "+_(s.phone),1),z("div",null,_(s.province+s.city+s.district+s.detail),1),s.isDefault?(R(),re(p(ct),{key:0,color:"blue"},{default:v(()=>n[10]||(n[10]=[L("默认")])),_:1})):X("",!0)])]),_:2},1024)]),header:v(()=>n[11]||(n[11]=[z("div",null,"收货地址列表",-1)])),empty:v(()=>n[12]||(n[12]=[z("div",null,"暂无收货地址",-1)])),_:1},8,["data-source"])]),_:1}),i(p(H),{label:"订单信息",span:2},{default:v(()=>[i(p(G),{size:"small","data-source":l.value.Orders||[],pagination:!1},{renderItem:v(({item:s})=>[i(p(he),null,{default:v(()=>[z("div",null,[z("div",null,"订单号: "+_(s.orderNo),1),z("div",null,"金额: ¥"+_(s.totalAmount),1),z("div",null,"状态: "+_($(s.status)),1),z("div",null,"创建时间: "+_(c(s.createdAt)),1)])]),_:2},1024)]),header:v(()=>n[13]||(n[13]=[z("div",null,"订单列表",-1)])),empty:v(()=>n[14]||(n[14]=[z("div",null,"暂无订单信息",-1)])),_:1},8,["data-source"])]),_:1})]),_:1})])):X("",!0)]),_:1},8,["visible"])]))}}),Zt=gt(Rt,[["__scopeId","data-v-c2d07fe2"]]);export{Zt as default};
