var n=(s,t,e)=>new Promise((f,i)=>{var T=o=>{try{r(e.next(o))}catch(u){i(u)}},b=o=>{try{r(e.throw(o))}catch(u){i(u)}},r=o=>o.done?f(o.value):Promise.resolve(o.value).then(T,b);r((e=e.apply(s,t)).next())});import{ay as U,u as A,az as W}from"./bootstrap-Be81Tyra.js";import{V as B,r as C,c as R,g as D,W as K,M as V,N as E,X as F}from"../jse/index-index-IK0MbYCQ.js";import{u as z}from"./tabbar-D4hsx3VF.js";function q(){const{contentIsMaximize:s}=U();function t(){const e=s.value;B({header:{hidden:!e},sidebar:{hidden:!e}})}return{contentIsMaximize:s,toggleMaximize:t}}function G(s,t=500){const e=[],f=C(!1),i=C();(Array.isArray(s)?s:[s]).forEach(c=>{const y=R(()=>{const l=D(c);return l instanceof Element?l:l==null?void 0:l.$el}),m=K(y);e.push(m)});const b=R(()=>e.every(c=>!c.value));function r(c){i.value&&clearTimeout(i.value),i.value=setTimeout(()=>{f.value=c,i.value=void 0},F(t)?t():t)}const o=V(b,c=>{r(!c)},{immediate:!0}),u={enable(){o.resume()},disable(){o.pause()}};return E(()=>{i.value&&clearTimeout(i.value)}),[f,u]}function J(){const s=A(),t=z();function e(){return n(this,null,function*(){yield t.refresh(s)})}return{refresh:e}}function Q(){const s=A(),t=W(),e=z();function f(a){return n(this,null,function*(){yield e.closeLeftTabs(a||t)})}function i(){return n(this,null,function*(){yield e.closeAllTabs(s)})}function T(a){return n(this,null,function*(){yield e.closeRightTabs(a||t)})}function b(a){return n(this,null,function*(){yield e.closeOtherTabs(a||t)})}function r(a){return n(this,null,function*(){yield e.closeTab(a||t,s)})}function o(a){return n(this,null,function*(){yield e.pinTab(a||t)})}function u(a){return n(this,null,function*(){yield e.unpinTab(a||t)})}function c(a){return n(this,null,function*(){yield e.toggleTabPin(a||t)})}function y(){return n(this,null,function*(){yield e.refresh(s)})}function m(a){return n(this,null,function*(){yield e.openTabInNewWindow(a||t)})}function l(a){return n(this,null,function*(){yield e.closeTabByKey(a,s)})}function M(a){return n(this,null,function*(){e.setUpdateTime(),yield e.setTabTitle(t,a)})}function H(){return n(this,null,function*(){e.setUpdateTime(),yield e.resetTabTitle(t)})}function I(a=t){var x;const d=e.getTabs,v=e.affixTabs,p=d.findIndex(N=>N.path===a.path),w=d.length<=1,{meta:g}=a,O=(x=g==null?void 0:g.affixTab)!=null?x:!1,h=t.path===a.path,P=p===0||p-v.length<=0||!h,S=!h||p===d.length-1,L=w||!h||d.length-v.length<=1;return{disabledCloseAll:w,disabledCloseCurrent:!!O||w,disabledCloseLeft:P,disabledCloseOther:L,disabledCloseRight:S,disabledRefresh:!h}}return{closeAllTabs:i,closeCurrentTab:r,closeLeftTabs:f,closeOtherTabs:b,closeRightTabs:T,closeTabByKey:l,getTabDisableState:I,openTabInNewWindow:m,pinTab:o,refreshTab:y,resetTabTitle:H,setTabTitle:M,toggleTabPin:c,unpinTab:u}}export{J as a,q as b,Q as c,G as u};
