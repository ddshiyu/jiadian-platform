var n=(s,t,e)=>new Promise((f,i)=>{var T=o=>{try{r(e.next(o))}catch(u){i(u)}},b=o=>{try{r(e.throw(o))}catch(u){i(u)}},r=o=>o.done?f(o.value):Promise.resolve(o.value).then(T,b);r((e=e.apply(s,t)).next())});import{as as W,u as A,at as B}from"./bootstrap-22b2dTij.js";import{W as D,r as C,c as R,g as K,X as N,T as V,V as E,Y as F}from"../jse/index-index-DVLJeVLU.js";import{u as z}from"./tabbar-B4EWHg1p.js";function k(){const{contentIsMaximize:s}=W();function t(){const e=s.value;D({header:{hidden:!e},sidebar:{hidden:!e}})}return{contentIsMaximize:s,toggleMaximize:t}}function q(s,t=500){const e=[],f=C(!1),i=C();(Array.isArray(s)?s:[s]).forEach(c=>{const m=R(()=>{const l=K(c);return l instanceof Element?l:l==null?void 0:l.$el}),p=N(m);e.push(p)});const b=R(()=>e.every(c=>!c.value));function r(c){i.value&&clearTimeout(i.value),i.value=setTimeout(()=>{f.value=c,i.value=void 0},F(t)?t():t)}const o=V(b,c=>{r(!c)},{immediate:!0}),u={enable(){o.resume()},disable(){o.pause()}};return E(()=>{i.value&&clearTimeout(i.value)}),[f,u]}function G(){const s=A(),t=z();function e(){return n(this,null,function*(){yield t.refresh(s)})}return{refresh:e}}function J(){const s=A(),t=B(),e=z();function f(a){return n(this,null,function*(){yield e.closeLeftTabs(a||t)})}function i(){return n(this,null,function*(){yield e.closeAllTabs(s)})}function T(a){return n(this,null,function*(){yield e.closeRightTabs(a||t)})}function b(a){return n(this,null,function*(){yield e.closeOtherTabs(a||t)})}function r(a){return n(this,null,function*(){yield e.closeTab(a||t,s)})}function o(a){return n(this,null,function*(){yield e.pinTab(a||t)})}function u(a){return n(this,null,function*(){yield e.unpinTab(a||t)})}function c(a){return n(this,null,function*(){yield e.toggleTabPin(a||t)})}function m(){return n(this,null,function*(){yield e.refresh(s)})}function p(a){return n(this,null,function*(){yield e.openTabInNewWindow(a||t)})}function l(a){return n(this,null,function*(){yield e.closeTabByKey(a,s)})}function H(a){return n(this,null,function*(){e.setUpdateTime(),yield e.setTabTitle(t,a)})}function I(){return n(this,null,function*(){e.setUpdateTime(),yield e.resetTabTitle(t)})}function M(a=t){var x;const d=e.getTabs,v=e.affixTabs,w=d.findIndex(U=>U.path===a.path),y=d.length<=1,{meta:g}=a,O=(x=g==null?void 0:g.affixTab)!=null?x:!1,h=t.path===a.path,P=w===0||w-v.length<=0||!h,S=!h||w===d.length-1,L=y||!h||d.length-v.length<=1;return{disabledCloseAll:y,disabledCloseCurrent:!!O||y,disabledCloseLeft:P,disabledCloseOther:L,disabledCloseRight:S,disabledRefresh:!h}}return{closeAllTabs:i,closeCurrentTab:r,closeLeftTabs:f,closeOtherTabs:b,closeRightTabs:T,closeTabByKey:l,getTabDisableState:M,openTabInNewWindow:p,pinTab:o,refreshTab:m,resetTabTitle:I,setTabTitle:H,toggleTabPin:c,unpinTab:u}}export{G as a,k as b,J as c,q as u};
