var Je=Object.defineProperty,He=Object.defineProperties;var Ge=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var Qe=Object.prototype.hasOwnProperty,Ke=Object.prototype.propertyIsEnumerable;var _e=(M,g,c)=>g in M?Je(M,g,{enumerable:!0,configurable:!0,writable:!0,value:c}):M[g]=c,Se=(M,g)=>{for(var c in g||(g={}))Qe.call(g,c)&&_e(M,c,g[c]);if(be)for(var c of be(g))Ke.call(g,c)&&_e(M,c,g[c]);return M},we=(M,g)=>He(M,Ge(g));var q=(M,g,c)=>new Promise((G,Q)=>{var U=y=>{try{d(c.next(y))}catch(i){Q(i)}},x=y=>{try{d(c.throw(y))}catch(i){Q(i)}},d=y=>y.done?G(y.value):Promise.resolve(y.value).then(U,x);d((c=c.apply(M,g)).next())});import{N as We,O as Xe,P as X,Q as Ze,R as D,U as Z,W as ie,X as I,S as de,B as h,Y as et,Z as L,a0 as Ce,a1 as ee,a2 as he,a3 as tt,b as k,_ as at}from"./bootstrap-CBNqZsYX.js";import{d as lt,r as C,I as H,o as rt,a as b,b as p,A as l,z as a,g as t,B as s,f as _,e as m,l as T,t as u,J as ot}from"../jse/index-index-Cfj6TwKU.js";import{g as nt,a as st,b as ut,c as it,r as dt,s as pt,h as mt}from"./operation-C8U6V3qw.js";import{C as Me,T as vt,a as Ne,P as ft}from"./index-oBtY6qbd.js";import{R as yt}from"./ReloadOutlined-Cz0uH1GH.js";import{D as De,a as S}from"./index-CEIfxdgB.js";import{T as pe}from"./index-BwHvTSl1.js";import{P as Ie}from"./index-BeE9O9oY.js";const ct={class:"table-header"},kt={class:"table-action"},gt={key:0},bt={key:1,class:"price"},_t={key:4},St={key:0},wt={key:0},Ct={key:1,class:"price"},ht={key:4},Mt={key:0},Nt={key:0},Dt={key:0,class:"product-info"},It=["src"],Tt={key:1,class:"price"},Ot={key:2,class:"price"},At={key:0},Rt={key:1},xt=lt({__name:"orders",setup(M){const{RangePicker:g}=We,c=Xe(),G=[{title:"订单信息",key:"orderInfo",width:200},{title:"订单金额",key:"amount",width:100},{title:"订单状态",key:"status",width:120},{title:"支付状态",key:"paymentStatus",width:120},{title:"时间信息",key:"time",width:200},{title:"操作",key:"action",width:200}],Q=[{title:"商品信息",key:"product",width:"40%"},{title:"单价",key:"price",width:"15%"},{title:"数量",dataIndex:"quantity",key:"quantity",width:"15%"},{title:"金额",key:"total",width:"15%"}],U=C([]),x=C(!1),d=C(null),y=H({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:o=>`共 ${o} 条记录`}),i=H({orderNo:"",userName:"",status:"",paymentStatus:"",startDate:"",endDate:""}),$=C(void 0),K=C(!1),j=C(!1),Y=H({orderId:0,remark:""}),te=C(null),Te={remark:[{required:!0,message:"请输入订单备注",trigger:"blur",type:"string"}]},A=C(!1),E=C(!1),w=H({orderId:0,trackingNumber:"",trackingCompany:"",deliveryImages:[]}),ae=C(null),Oe={trackingNumber:[{required:!0,message:"请输入快递单号",trigger:"blur",type:"string"}],trackingCompany:[{required:!0,message:"请输入快递公司",trigger:"blur",type:"string"}]},z=C([]),Ae={Authorization:`Bearer ${c.accessToken}`},Re="https://qbylxb.cn/upload/image",xe=o=>{const e=o.type==="image/jpeg"||o.type==="image/png";e||k.error("只能上传JPG或PNG格式的图片!");const r=o.size/1024/1024<2;return r||k.error("图片大小不能超过2MB!"),e&&r},Fe=o=>{const e=[...o.fileList].slice(0,5);if(z.value=e,o.file.status==="done"){const r=o.file.response;r&&r.code===0?(w.deliveryImages=z.value.filter(n=>{var v,f,O;return((O=(f=(v=n.response)==null?void 0:v.data)==null?void 0:f.image)==null?void 0:O.url)||n.url}).map(n=>{var v,f,O;return`https://qbylxb.cn${(O=(f=(v=n.response)==null?void 0:v.data)==null?void 0:f.image)==null?void 0:O.url}`}),k.success(`${o.file.name} 上传成功`)):k.error(`${o.file.name} 上传失败`)}else o.file.status==="error"&&k.error(`${o.file.name} 上传失败`)},J=C(!1),N=H({orderId:0,status:"",remark:""}),le=C(null),Ue={status:[{required:!0,message:"请选择操作结果",trigger:"change",type:"string"}]},W=C("all"),$e=o=>{W.value=o,me()},R=()=>q(this,null,function*(){var o,e;x.value=!0;try{$.value&&$.value.length===2?(i.startDate=$.value[0].format("YYYY-MM-DD"),i.endDate=$.value[1].format("YYYY-MM-DD")):(i.startDate="",i.endDate="");const r={orderNo:i.orderNo,userName:i.userName,status:i.status||void 0,paymentStatus:i.paymentStatus||void 0,startDate:i.startDate||void 0,endDate:i.endDate||void 0,pageNum:y.current,pageSize:y.pageSize};try{const n=W.value==="refund"?yield nt(r):yield st(r);if(n)U.value=n.list||[],y.total=((o=n.pagination)==null?void 0:o.total)||0,y.current=((e=n.pagination)==null?void 0:e.current)||1;else throw new Error("获取订单列表失败: 空响应")}catch(n){console.error("获取订单API失败，使用模拟数据:",n),k.warning(`当前使用测试数据，接口异常：${n.message||n}`);let f=[...Ye()];i.orderNo&&(f=f.filter(P=>P.orderNo.includes(i.orderNo))),i.userName&&(f=f.filter(P=>P.userName.includes(i.userName))),i.status&&(f=f.filter(P=>P.status===i.status)),i.paymentStatus&&(f=f.filter(P=>P.paymentStatus===i.paymentStatus));const O=y.current||1,B=y.pageSize||10,V=(O-1)*B,Ee=V+B;U.value=f.slice(V,Ee),y.total=f.length}}catch(r){console.error("获取订单列表失败:",r),k.error("获取订单列表失败"),U.value=[],y.total=0}finally{x.value=!1}}),Ye=()=>{const o=["pending_payment","pending_delivery","delivered","completed","cancelled"],e=["unpaid","paid","refunded"],r=["normal","vip","wholesale"];return Array.from({length:25}).map((n,v)=>{const f=o[Math.floor(Math.random()*o.length)],O=f==="pending_payment"?"unpaid":f==="cancelled"?e[Math.floor(Math.random()*e.length)]:"paid",B={id:v+1,orderNo:`ORD${String(v+10001).padStart(5,"0")}`,userId:v+100,userName:`测试用户${v+1}`,totalAmount:Number(Math.floor(Math.random()*1e4)/100+100),orderType:r[Math.floor(Math.random()*r.length)],status:f,paymentStatus:O,paymentMethod:O==="unpaid"?void 0:"微信支付",paymentTime:O==="unpaid"?void 0:new Date(Date.now()-Math.random()*864e5*30).toISOString(),deliveryTime:["completed","delivered"].includes(f)?new Date(Date.now()-Math.random()*864e5*15).toISOString():void 0,completionTime:f==="completed"?new Date(Date.now()-Math.random()*864e5*5).toISOString():void 0,cancelTime:f==="cancelled"?new Date(Date.now()-Math.random()*864e5*10).toISOString():void 0,remark:Math.random()>.7?`订单备注${v+1}`:void 0,address:`测试地址${v+1}`,consignee:`收货人${v+1}`,phone:`1380000${String(v+1).padStart(4,"0")}`,createdAt:new Date(Date.now()-Math.random()*864e5*60).toISOString(),updatedAt:new Date(Date.now()-Math.random()*864e5*30).toISOString(),items:[{id:v*2+1,productId:v*3+100,productName:`测试商品${v*2+1}`,price:Math.floor(Math.random()*1e3)/100+50,quantity:Math.floor(Math.random()*5)+1,totalAmount:0,productCover:`https://via.placeholder.com/100?text=商品${v*2+1}`},{id:v*2+2,productId:v*3+101,productName:`测试商品${v*2+2}`,price:Math.floor(Math.random()*1e3)/100+50,quantity:Math.floor(Math.random()*5)+1,totalAmount:0,productCover:`https://via.placeholder.com/100?text=商品${v*2+2}`}]};return B.items=B.items.map(V=>we(Se({},V),{totalAmount:V.price*V.quantity})),B})},Pe=()=>{y.current=1,R()},me=()=>{Object.assign(i,{orderNo:"",userName:"",status:"",paymentStatus:"",startDate:"",endDate:""}),$.value=void 0,y.current=1,R()},ve=o=>{y.current=o.current,y.pageSize=o.pageSize,R()},fe=o=>q(this,null,function*(){try{x.value=!0;try{const e=yield ut(o.id);if(e)d.value=e,K.value=!0;else throw new Error("订单详情获取失败: 空响应")}catch(e){console.error("获取订单详情API失败，使用模拟数据:",e),k.warning(`当前使用测试数据，接口异常：${e.message||e}`),d.value=o,K.value=!0}}catch(e){console.error("获取订单详情失败:",e),k.error("获取订单详情失败")}finally{x.value=!1}}),ye=o=>q(this,null,function*(){try{yield it(o.id,"管理员取消"),k.success("订单已取消"),R()}catch(e){console.error("取消订单失败:",e),k.error("取消订单失败")}}),ce=o=>{Y.orderId=o.id,Y.remark=o.remark||"",j.value=!0},qe=()=>{j.value=!1},ze=()=>q(this,null,function*(){if(te.value)try{yield te.value.validate(),A.value=!0,yield dt(Y.orderId,Y.remark),k.success("备注成功"),j.value=!1,R()}catch(o){console.error("备注失败:",o),k.error("备注失败")}finally{A.value=!1}}),ke=o=>{w.orderId=o.id,w.trackingNumber="",w.trackingCompany="",w.deliveryImages=[],z.value=[],E.value=!0},Be=()=>{E.value=!1},Ve=()=>q(this,null,function*(){if(ae.value)try{yield ae.value.validate(),A.value=!0,yield pt(w.orderId,w.trackingNumber,w.trackingCompany,w.deliveryImages),k.success("发货成功"),E.value=!1,R()}catch(o){console.error("发货失败:",o),k.error("发货失败")}finally{A.value=!1}}),ge=o=>{N.orderId=o.id,N.status="",N.remark="",J.value=!0},Le=()=>{J.value=!1},je=()=>q(this,null,function*(){if(le.value)try{yield le.value.validate(),A.value=!0;const o=N.status,e=N.remark||void 0;yield mt(N.orderId,o,e),k.success(N.status==="approved"?"退款申请已通过":"退款申请已拒绝"),J.value=!1,R()}catch(o){console.error("处理退款失败:",o),k.error("处理退款失败")}finally{A.value=!1}}),F=o=>o?ot(o).format("YYYY-MM-DD HH:mm:ss"):"",re=o=>({pending_payment:"待支付",pending_delivery:"待发货",delivered:"已发货",completed:"已完成",cancelled:"已取消",refund_pending:"退款处理中",refund_approved:"退款已通过",refund_rejected:"退款已拒绝"})[o]||o,oe=o=>({pending_payment:"orange",pending_delivery:"blue",delivered:"cyan",completed:"green",cancelled:"red",refund_pending:"gold",refund_approved:"purple",refund_rejected:"volcano"})[o]||"default",ne=o=>({unpaid:"未支付",paid:"已支付",refunded:"已退款"})[o]||o,se=o=>({unpaid:"orange",paid:"green",refunded:"purple"})[o]||"default",ue=o=>o?{normal:"普通订单",vip:"VIP订单",wholesale:"批发订单"}[o]||o:"-";return rt(()=>{R()}),(o,e)=>(p(),b("div",null,[l(t(Me),{bordered:!1,class:"mb-20"},{default:a(()=>[l(t(X),{model:i,layout:"inline",class:"search-form",onSubmit:Ze(Pe,["prevent"])},{default:a(()=>[l(t(D),{label:"订单号"},{default:a(()=>[l(t(Z),{value:i.orderNo,"onUpdate:value":e[0]||(e[0]=r=>i.orderNo=r),placeholder:"请输入订单号","allow-clear":""},null,8,["value"])]),_:1}),l(t(D),{label:"用户名"},{default:a(()=>[l(t(Z),{value:i.userName,"onUpdate:value":e[1]||(e[1]=r=>i.userName=r),placeholder:"请输入用户名","allow-clear":""},null,8,["value"])]),_:1}),l(t(D),{label:"订单状态"},{default:a(()=>[l(t(ie),{value:i.status,"onUpdate:value":e[2]||(e[2]=r=>i.status=r),placeholder:"请选择订单状态",style:{width:"160px"},"allow-clear":""},{default:a(()=>[l(t(I),{value:""},{default:a(()=>e[16]||(e[16]=[s("全部")])),_:1}),l(t(I),{value:"pending_payment"},{default:a(()=>e[17]||(e[17]=[s("待支付")])),_:1}),l(t(I),{value:"pending_delivery"},{default:a(()=>e[18]||(e[18]=[s("待发货")])),_:1}),l(t(I),{value:"delivered"},{default:a(()=>e[19]||(e[19]=[s("已发货")])),_:1}),l(t(I),{value:"completed"},{default:a(()=>e[20]||(e[20]=[s("已完成")])),_:1}),l(t(I),{value:"cancelled"},{default:a(()=>e[21]||(e[21]=[s("已取消")])),_:1})]),_:1},8,["value"])]),_:1}),l(t(D),{label:"支付状态"},{default:a(()=>[l(t(ie),{value:i.paymentStatus,"onUpdate:value":e[3]||(e[3]=r=>i.paymentStatus=r),placeholder:"请选择支付状态",style:{width:"140px"},"allow-clear":""},{default:a(()=>[l(t(I),{value:""},{default:a(()=>e[22]||(e[22]=[s("全部")])),_:1}),l(t(I),{value:"unpaid"},{default:a(()=>e[23]||(e[23]=[s("未支付")])),_:1}),l(t(I),{value:"paid"},{default:a(()=>e[24]||(e[24]=[s("已支付")])),_:1}),l(t(I),{value:"refunded"},{default:a(()=>e[25]||(e[25]=[s("已退款")])),_:1})]),_:1},8,["value"])]),_:1}),l(t(D),{label:"下单时间"},{default:a(()=>[l(t(g),{value:$.value,"onUpdate:value":e[4]||(e[4]=r=>$.value=r),format:"YYYY-MM-DD",placeholder:["开始日期","结束日期"],style:{width:"240px"}},null,8,["value"])]),_:1}),l(t(D),null,{default:a(()=>[l(t(de),null,{default:a(()=>[l(t(h),{type:"primary","html-type":"submit"},{default:a(()=>e[26]||(e[26]=[s("查询")])),_:1}),l(t(h),{onClick:me},{default:a(()=>e[27]||(e[27]=[s("重置")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),l(t(Me),{bordered:!1},{default:a(()=>[_("div",ct,[e[28]||(e[28]=_("div",{class:"table-title"},"订单列表",-1)),_("div",kt,[l(t(et),{title:"刷新"},{default:a(()=>[l(t(h),{onClick:R},{icon:a(()=>[l(t(yt))]),_:1})]),_:1})])]),l(t(vt),{"active-key":W.value,"onUpdate:activeKey":e[5]||(e[5]=r=>W.value=r),onChange:$e},{default:a(()=>[l(t(Ne),{tab:"所有订单",key:"all"},{default:a(()=>[l(t(pe),{columns:G,"data-source":U.value,loading:x.value,pagination:y,onChange:ve,"row-key":"id"},{bodyCell:a(({column:r,record:n})=>[r.key==="orderInfo"?(p(),b("div",gt,[_("div",null,"订单号: "+u(n.orderNo),1),_("div",null,"用户: "+u(n.userName),1),_("div",null,"类型: "+u(ue(n.orderType)),1)])):m("",!0),r.key==="amount"?(p(),b("div",bt," ¥"+u(Number(n.totalAmount).toFixed(2)),1)):m("",!0),r.key==="status"?(p(),T(t(L),{key:2,color:oe(n.status)},{default:a(()=>[s(u(re(n.status)),1)]),_:2},1032,["color"])):m("",!0),r.key==="paymentStatus"?(p(),T(t(L),{key:3,color:se(n.paymentStatus)},{default:a(()=>[s(u(ne(n.paymentStatus)),1)]),_:2},1032,["color"])):m("",!0),r.key==="time"?(p(),b("div",_t,[_("div",null,"下单: "+u(F(n.createdAt)),1),n.paymentTime?(p(),b("div",St," 支付: "+u(F(n.paymentTime)),1)):m("",!0)])):m("",!0),r.key==="action"?(p(),T(t(de),{key:5},{default:a(()=>[l(t(h),{type:"link",onClick:()=>fe(n)},{default:a(()=>e[29]||(e[29]=[s(" 详情 ")])),_:2},1032,["onClick"]),n.status==="pending_payment"?(p(),T(t(Ie),{key:0,title:"确定取消该订单吗？",onConfirm:()=>ye(n),"ok-text":"确定","cancel-text":"取消"},{default:a(()=>[l(t(h),{type:"link",danger:""},{default:a(()=>e[30]||(e[30]=[s("取消订单")])),_:1})]),_:2},1032,["onConfirm"])):m("",!0),n.status==="pending_delivery"?(p(),T(t(h),{key:1,type:"link",onClick:()=>ke(n)},{default:a(()=>e[31]||(e[31]=[s(" 发货 ")])),_:2},1032,["onClick"])):m("",!0),n.status==="refund_pending"?(p(),T(t(h),{key:2,type:"link",onClick:()=>ge(n)},{default:a(()=>e[32]||(e[32]=[s(" 处理退款 ")])),_:2},1032,["onClick"])):m("",!0),l(t(h),{type:"link",onClick:()=>ce(n)},{default:a(()=>e[33]||(e[33]=[s(" 备注 ")])),_:2},1032,["onClick"])]),_:2},1024)):m("",!0)]),_:1},8,["data-source","loading","pagination"])]),_:1}),l(t(Ne),{tab:"退款订单",key:"refund"},{default:a(()=>[l(t(pe),{columns:G,"data-source":U.value,loading:x.value,pagination:y,onChange:ve,"row-key":"id"},{bodyCell:a(({column:r,record:n})=>[r.key==="orderInfo"?(p(),b("div",wt,[_("div",null,"订单号: "+u(n.orderNo),1),_("div",null,"用户: "+u(n.userName),1),_("div",null,"类型: "+u(ue(n.orderType)),1)])):m("",!0),r.key==="amount"?(p(),b("div",Ct," ¥"+u(Number(n.totalAmount).toFixed(2)),1)):m("",!0),r.key==="status"?(p(),T(t(L),{key:2,color:oe(n.status)},{default:a(()=>[s(u(re(n.status)),1)]),_:2},1032,["color"])):m("",!0),r.key==="paymentStatus"?(p(),T(t(L),{key:3,color:se(n.paymentStatus)},{default:a(()=>[s(u(ne(n.paymentStatus)),1)]),_:2},1032,["color"])):m("",!0),r.key==="time"?(p(),b("div",ht,[_("div",null,"下单: "+u(F(n.createdAt)),1),n.paymentTime?(p(),b("div",Mt," 支付: "+u(F(n.paymentTime)),1)):m("",!0)])):m("",!0),r.key==="action"?(p(),T(t(de),{key:5},{default:a(()=>[l(t(h),{type:"link",onClick:()=>fe(n)},{default:a(()=>e[34]||(e[34]=[s(" 详情 ")])),_:2},1032,["onClick"]),n.status==="pending_payment"?(p(),T(t(Ie),{key:0,title:"确定取消该订单吗？",onConfirm:()=>ye(n),"ok-text":"确定","cancel-text":"取消"},{default:a(()=>[l(t(h),{type:"link",danger:""},{default:a(()=>e[35]||(e[35]=[s("取消订单")])),_:1})]),_:2},1032,["onConfirm"])):m("",!0),n.status==="pending_delivery"?(p(),T(t(h),{key:1,type:"link",onClick:()=>ke(n)},{default:a(()=>e[36]||(e[36]=[s(" 发货 ")])),_:2},1032,["onClick"])):m("",!0),n.status==="refund_pending"?(p(),T(t(h),{key:2,type:"link",onClick:()=>ge(n)},{default:a(()=>e[37]||(e[37]=[s(" 处理退款 ")])),_:2},1032,["onClick"])):m("",!0),l(t(h),{type:"link",onClick:()=>ce(n)},{default:a(()=>e[38]||(e[38]=[s(" 备注 ")])),_:2},1032,["onClick"])]),_:2},1024)):m("",!0)]),_:1},8,["data-source","loading","pagination"])]),_:1})]),_:1},8,["active-key"])]),_:1}),l(t(ee),{visible:K.value,"onUpdate:visible":e[6]||(e[6]=r=>K.value=r),title:"订单详情",width:"800px",footer:null,"mask-closable":!0},{default:a(()=>[d.value?(p(),b("div",Nt,[l(t(De),{title:"基本信息",bordered:"",column:2},{default:a(()=>[l(t(S),{label:"订单号"},{default:a(()=>[s(u(d.value.orderNo),1)]),_:1}),l(t(S),{label:"下单时间"},{default:a(()=>[s(u(F(d.value.createdAt)),1)]),_:1}),l(t(S),{label:"用户"},{default:a(()=>[s(u(d.value.userName),1)]),_:1}),l(t(S),{label:"总金额"},{default:a(()=>[s(" ¥"+u(Number(d.value.totalAmount).toFixed(2)),1)]),_:1}),l(t(S),{label:"订单类型"},{default:a(()=>[s(u(ue(d.value.orderType)),1)]),_:1}),l(t(S),{label:"订单状态"},{default:a(()=>[l(t(L),{color:oe(d.value.status)},{default:a(()=>[s(u(re(d.value.status)),1)]),_:1},8,["color"])]),_:1}),l(t(S),{label:"支付状态"},{default:a(()=>[l(t(L),{color:se(d.value.paymentStatus)},{default:a(()=>[s(u(ne(d.value.paymentStatus)),1)]),_:1},8,["color"])]),_:1}),l(t(S),{label:"支付方式",span:2},{default:a(()=>[s(u(d.value.paymentMethod||"-"),1)]),_:1}),l(t(S),{label:"支付时间",span:2},{default:a(()=>[s(u(d.value.paymentTime?F(d.value.paymentTime):"-"),1)]),_:1}),l(t(S),{label:"发货时间",span:2},{default:a(()=>[s(u(d.value.deliveryTime?F(d.value.deliveryTime):"-"),1)]),_:1}),l(t(S),{label:"完成时间",span:2},{default:a(()=>[s(u(d.value.completionTime?F(d.value.completionTime):"-"),1)]),_:1}),l(t(S),{label:"备注",span:2},{default:a(()=>[s(u(d.value.remark||"-"),1)]),_:1})]),_:1}),l(t(Ce)),l(t(De),{title:"收货信息",bordered:"",column:1},{default:a(()=>[l(t(S),{label:"收货人"},{default:a(()=>[s(u(d.value.consignee||"-"),1)]),_:1}),l(t(S),{label:"联系电话"},{default:a(()=>[s(u(d.value.phone||"-"),1)]),_:1}),l(t(S),{label:"收货地址"},{default:a(()=>[s(u(d.value.address||"-"),1)]),_:1})]),_:1}),l(t(Ce)),e[39]||(e[39]=_("h3",null,"商品信息",-1)),l(t(pe),{columns:Q,"data-source":d.value.items,pagination:!1,"row-key":"id"},{bodyCell:a(({column:r,record:n})=>[r.key==="product"?(p(),b("div",Dt,[n.productCover?(p(),b("img",{key:0,src:n.productCover,alt:"商品图片",class:"product-img"},null,8,It)):m("",!0),_("div",null,u(n.productName),1)])):m("",!0),r.key==="price"?(p(),b("div",Tt,"¥"+u(Number(n.price).toFixed(2)),1)):m("",!0),r.key==="total"?(p(),b("div",Ot," ¥"+u(Number(n.totalAmount).toFixed(2)),1)):m("",!0)]),_:1},8,["data-source"])])):m("",!0)]),_:1},8,["visible"]),l(t(ee),{visible:j.value,"onUpdate:visible":e[8]||(e[8]=r=>j.value=r),title:"订单备注",onOk:ze,"confirm-loading":A.value,onCancel:qe,"ok-text":"确定","cancel-text":"取消"},{default:a(()=>[l(t(X),{ref_key:"remarkFormRef",ref:te,model:Y,rules:Te,"label-col":{span:4},"wrapper-col":{span:18}},{default:a(()=>[l(t(D),{label:"备注",name:"remark"},{default:a(()=>[l(t(he),{value:Y.remark,"onUpdate:value":e[7]||(e[7]=r=>Y.remark=r),placeholder:"请输入订单备注",rows:4},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","confirm-loading"]),l(t(ee),{visible:E.value,"onUpdate:visible":e[12]||(e[12]=r=>E.value=r),title:"订单发货",onOk:Ve,"confirm-loading":A.value,onCancel:Be,"ok-text":"确定","cancel-text":"取消"},{default:a(()=>[l(t(X),{ref_key:"shipFormRef",ref:ae,model:w,rules:Oe,"label-col":{span:4},"wrapper-col":{span:18}},{default:a(()=>[l(t(D),{label:"快递公司",name:"trackingCompany"},{default:a(()=>[l(t(Z),{value:w.trackingCompany,"onUpdate:value":e[9]||(e[9]=r=>w.trackingCompany=r),placeholder:"请输入快递公司名称"},null,8,["value"])]),_:1}),l(t(D),{label:"快递单号",name:"trackingNumber"},{default:a(()=>[l(t(Z),{value:w.trackingNumber,"onUpdate:value":e[10]||(e[10]=r=>w.trackingNumber=r),placeholder:"请输入快递单号"},null,8,["value"])]),_:1}),l(t(D),{label:"发货图片"},{default:a(()=>[l(t(tt),{"file-list":z.value,"onUpdate:fileList":e[11]||(e[11]=r=>z.value=r),"list-type":"picture-card",action:Re,headers:Ae,name:"image","before-upload":xe,onChange:Fe},{default:a(()=>[z.value.length>=5?(p(),b("div",At,e[40]||(e[40]=[_("div",null,"最多上传5张",-1)]))):(p(),b("div",Rt,[l(t(ft)),e[41]||(e[41]=_("div",{style:{"margin-top":"8px"}},"上传",-1))]))]),_:1},8,["file-list"]),e[42]||(e[42]=_("div",{class:"upload-hint"}," 请上传发货图片，最多5张，支持jpg、png格式 ",-1))]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","confirm-loading"]),l(t(ee),{visible:J.value,"onUpdate:visible":e[15]||(e[15]=r=>J.value=r),title:"处理退款申请",onOk:je,"confirm-loading":A.value,onCancel:Le,"ok-text":"确定","cancel-text":"取消"},{default:a(()=>[l(t(X),{ref_key:"statusFormRef",ref:le,model:N,rules:Ue,"label-col":{span:4},"wrapper-col":{span:18}},{default:a(()=>[l(t(D),{label:"操作结果",name:"status"},{default:a(()=>[l(t(ie),{value:N.status,"onUpdate:value":e[13]||(e[13]=r=>N.status=r),placeholder:"请选择操作结果"},{default:a(()=>[l(t(I),{value:"approved"},{default:a(()=>e[43]||(e[43]=[s("通过")])),_:1}),l(t(I),{value:"rejected"},{default:a(()=>e[44]||(e[44]=[s("拒绝")])),_:1})]),_:1},8,["value"])]),_:1}),l(t(D),{label:"备注",name:"remark"},{default:a(()=>[l(t(he),{value:N.remark,"onUpdate:value":e[14]||(e[14]=r=>N.remark=r),placeholder:"请输入备注",rows:4},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","confirm-loading"])]))}}),Lt=at(xt,[["__scopeId","data-v-d2b33229"]]);export{Lt as default};
