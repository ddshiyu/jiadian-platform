var n=(t,s,e)=>new Promise((f,i)=>{var T=o=>{try{r(e.next(o))}catch(u){i(u)}},b=o=>{try{r(e.throw(o))}catch(u){i(u)}},r=o=>o.done?f(o.value):Promise.resolve(o.value).then(T,b);r((e=e.apply(t,s)).next())});import{ar as U,u as A,as as W}from"./bootstrap-PxKnX6yB.js";import{V as B,r as C,c as R,g as D,W as K,M as V,N as E,X as F}from"../jse/index-index-D7J90qLZ.js";import{u as M}from"./tabbar-BN5XRhat.js";function q(){const{contentIsMaximize:t}=U();function s(){const e=t.value;B({header:{hidden:!e},sidebar:{hidden:!e}})}return{contentIsMaximize:t,toggleMaximize:s}}function G(t,s=500){const e=[],f=C(!1),i=C();(Array.isArray(t)?t:[t]).forEach(c=>{const m=R(()=>{const l=D(c);return l instanceof Element?l:l==null?void 0:l.$el}),p=K(m);e.push(p)});const b=R(()=>e.every(c=>!c.value));function r(c){i.value&&clearTimeout(i.value),i.value=setTimeout(()=>{f.value=c,i.value=void 0},F(s)?s():s)}const o=V(b,c=>{r(!c)},{immediate:!0}),u={enable(){o.resume()},disable(){o.pause()}};return E(()=>{i.value&&clearTimeout(i.value)}),[f,u]}function J(){const t=A(),s=M();function e(){return n(this,null,function*(){yield s.refresh(t)})}return{refresh:e}}function Q(){const t=A(),s=W(),e=M();function f(a){return n(this,null,function*(){yield e.closeLeftTabs(a||s)})}function i(){return n(this,null,function*(){yield e.closeAllTabs(t)})}function T(a){return n(this,null,function*(){yield e.closeRightTabs(a||s)})}function b(a){return n(this,null,function*(){yield e.closeOtherTabs(a||s)})}function r(a){return n(this,null,function*(){yield e.closeTab(a||s,t)})}function o(a){return n(this,null,function*(){yield e.pinTab(a||s)})}function u(a){return n(this,null,function*(){yield e.unpinTab(a||s)})}function c(a){return n(this,null,function*(){yield e.toggleTabPin(a||s)})}function m(){return n(this,null,function*(){yield e.refresh(t)})}function p(a){return n(this,null,function*(){yield e.openTabInNewWindow(a||s)})}function l(a){return n(this,null,function*(){yield e.closeTabByKey(a,t)})}function z(a){return n(this,null,function*(){e.setUpdateTime(),yield e.setTabTitle(s,a)})}function H(){return n(this,null,function*(){e.setUpdateTime(),yield e.resetTabTitle(s)})}function I(a=s){var x;const d=e.getTabs,v=e.affixTabs,w=d.findIndex(N=>N.path===a.path),y=d.length<=1,{meta:g}=a,O=(x=g==null?void 0:g.affixTab)!=null?x:!1,h=s.path===a.path,P=w===0||w-v.length<=0||!h,S=!h||w===d.length-1,L=y||!h||d.length-v.length<=1;return{disabledCloseAll:y,disabledCloseCurrent:!!O||y,disabledCloseLeft:P,disabledCloseOther:L,disabledCloseRight:S,disabledRefresh:!h}}return{closeAllTabs:i,closeCurrentTab:r,closeLeftTabs:f,closeOtherTabs:b,closeRightTabs:T,closeTabByKey:l,getTabDisableState:I,openTabInNewWindow:p,pinTab:o,refreshTab:m,resetTabTitle:H,setTabTitle:z,toggleTabPin:c,unpinTab:u}}export{J as a,q as b,Q as c,G as u};
